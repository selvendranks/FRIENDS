
<nav class="navbar navbar-expand-lg navbar-dark bg-dark bg-nav-color .sun-color sticky-top" >
  <div class="container-fluid">
    <a class="navbar-brand" href="#">FRIENDS+</a>
    <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
      
          <li class="nav-item">
            <% try{ %> 
          <a class="nav-link" href="/friends/<%= currentUser._id %>">Profile</a>
            <% } catch(e){%>
              <a class="nav-link" href="/"></a>
           <% } %> 
          </li>
        
          <li class="nav-item">
            <% try{ %> 
            <a class="nav-link" href="/friends/<%= currentUser._id %>/yourfriends/feeds">Feeds</a>
            <% } catch(e){ %> 
            <a class="nav-link" href="/"></a>
            <% } %> 
          </li>
        
        <li class="nav-item">
          <% try{ %> 
          <a class="nav-link" href="/friends/<%= currentUser._id %>/yourfriends/new">Add Friends</a>
          <% } catch(e){ %> 
          <a class="nav-link" href="/"></a>
          <% } %> 
        </li>

        <li class="nav-item">
          <% try{ %> 
          <a class="nav-link" href="/friends/<%= currentUser._id %>/yourfriends">Friends</a>
          <% } catch(e){ %> 
          <a class="nav-link" href="/"></a>
          <% } %> 
        </li>
 
        <li class="nav-item">
          <% try{ %> 
          <a class="nav-link" href="/friends/<%= currentUser._id %>/yourfriends/friendRequest">Friend Requests</a>
          <% } catch(e){ %> 
          <a class="nav-link" href="/"></a>
          <% } %> 
        </li>

        <li class="nav-item dropdown">
          <select class="form-select" id="themeSelector" aria-label="Default select example">
            <option value="light">Light</option>
            <option value="DarkNeon">DarkNeon</option>
            <option value="Earth">Earth</option>
            <option value="Sunset">Sunset</option>
          </select>
        </li>

      </ul>
      <ul class="navbar-nav ms-auto">
        <% if(!currentUser){ %>
          <li class="nav-item">
            <a class="nav-link" href="/login">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/register">Register</a>
          </li>
          <% } else{%>
            <li class="nav-item">
              <a class="nav-link" href="/logout">LogOut</a>
            </li>
            <% } %>
      </ul>

    </div>
  </div>
</nav>

<script>
   let selectedTheme = document.querySelector('#themeSelector')
   let navbar = document.querySelector('.navbar')
   let theme = ''

   function changeNavTheme(){
    console.log(selectedTheme.value)
    if(selectedTheme.value === 'Sunset'){
    console.log("sunset")
    navbar.classList.remove('navbar-dark')
    navbar.classList.add('navbar-light')
    }
    else{
      navbar.classList.remove('navbar-light')
    navbar.classList.add('navbar-dark')
    }
   }

   function changeNavThemeRefresh(){
    console.log(selectedTheme.value)
    if(localStorage.getItem('theme') === 'Sunset'){
    console.log("sunset")
    navbar.classList.remove('navbar-dark')
    navbar.classList.add('navbar-light')
    }
    else{
      navbar.classList.remove('navbar-light')
    navbar.classList.add('navbar-dark')
    }
   }

   changeNavThemeRefresh()
   selectedTheme.addEventListener('change',()=>{
     changeNavTheme()
   })
   
</script>